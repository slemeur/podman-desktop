"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9998],{5318:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>p});var o=t(7378);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),d=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=d(e.components);return o.createElement(l.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},c=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(t),p=r,k=c["".concat(l,".").concat(p)]||c[p]||m[p]||i;return t?o.createElement(k,a(a({ref:n},u),{},{components:t})):o.createElement(k,a({ref:n},u))}));function p(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=c;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var d=2;d<i;d++)a[d]=t[d];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}c.displayName="MDXCreateElement"},9540:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var o=t(5773),r=(t(7378),t(5318));const i={sidebar_position:1,title:"Kind support",description:"Kind is one way to get Kubernetes running on your workstation.",keywords:["podman desktop","podman","containers","migrating","kubernetes","kind"],tags:["migrating-to-kubernetes","kind"]},a="Running Kubernetes on your workstation with Kind",s={unversionedId:"kubernetes/kind",id:"kubernetes/kind",title:"Kind support",description:"Kind is one way to get Kubernetes running on your workstation.",source:"@site/docs/kubernetes/kind.md",sourceDirName:"kubernetes",slug:"/kubernetes/kind",permalink:"/docs/kubernetes/kind",draft:!1,editUrl:"https://github.com/containers/podman-desktop/tree/main/website/docs/kubernetes/kind.md",tags:[{label:"migrating-to-kubernetes",permalink:"/docs/tags/migrating-to-kubernetes"},{label:"kind",permalink:"/docs/tags/kind"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Kind support",description:"Kind is one way to get Kubernetes running on your workstation.",keywords:["podman desktop","podman","containers","migrating","kubernetes","kind"],tags:["migrating-to-kubernetes","kind"]},sidebar:"mySidebar",previous:{title:"Kubernetes",permalink:"/docs/kubernetes/"},next:{title:"Using Compose with Podman Desktop",permalink:"/docs/podman-compose"}},l={},d=[{value:"Running Kind on Windows Subsystem for Linux (WSL)",id:"running-kind-on-windows-subsystem-for-linux-wsl",level:2},{value:"Configuring an existing Podman machine to run Kind",id:"configuring-an-existing-podman-machine-to-run-kind",level:3},{value:"Procedure",id:"procedure",level:4},{value:"Creating a Podman machine ready to run Kind",id:"creating-a-podman-machine-ready-to-run-kind",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Procedure",id:"procedure-1",level:4},{value:"Restarting a Podman machine running Kind on Windows",id:"restarting-a-podman-machine-running-kind-on-windows",level:3},{value:"Procedure",id:"procedure-2",level:4},{value:"Workaround",id:"workaround",level:4},{value:"Additional resources",id:"additional-resources",level:4}],u={toc:d};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"running-kubernetes-on-your-workstation-with-kind"},"Running Kubernetes on your workstation with Kind"),(0,r.kt)("p",null,"Kind is a command line tool that can create Kubernetes clusters on your favorite container engine."),(0,r.kt)("p",null,"It has experimental support for Podman.\nHowever, Kind has specific requirements that need configuration tuning."),(0,r.kt)("h2",{id:"running-kind-on-windows-subsystem-for-linux-wsl"},"Running Kind on Windows Subsystem for Linux (WSL)"),(0,r.kt)("p",null,"Due to incompatibilities between WSL and systemd, Kind does not work with the ",(0,r.kt)("inlineCode",{parentName:"p"},"rootless")," mode.\nTherefore, to use Kind with your Podman machine, configure ",(0,r.kt)("inlineCode",{parentName:"p"},"rootful")," mode."),(0,r.kt)("h3",{id:"configuring-an-existing-podman-machine-to-run-kind"},"Configuring an existing Podman machine to run Kind"),(0,r.kt)("p",null,"When you create a Podman machine, Podman creates two system connections:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"rootless")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"rootful"))),(0,r.kt)("p",null,"Kind use the default Podman connection.\nTherefore, you must set the default connection to ",(0,r.kt)("inlineCode",{parentName:"p"},"rootful"),"."),(0,r.kt)("h4",{id:"procedure"},"Procedure"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"List the Podman system connections:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"> podman system connection ls\nYou should see a similar output:\n```shell\nName                         URI                                                          Identity                                   Default\npodman-machine-default       ssh://user@localhost:54133/run/user/1000/podman/podman.sock  C:\\Users\\Jeff\\.ssh\\podman-machine-default  true\npodman-machine-default-root  ssh://root@localhost:54133/run/podman/podman.sock            C:\\Users\\Jeff\\.ssh\\podman-machine-default  false\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify the default connection to be rootful"))),(0,r.kt)("p",null,"The rootful connection is suffixed by ",(0,r.kt)("inlineCode",{parentName:"p"},"-root"),". If it is not the default one, you must issue the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"> podman system connection default podman-machine-default-root\n")),(0,r.kt)("h3",{id:"creating-a-podman-machine-ready-to-run-kind"},"Creating a Podman machine ready to run Kind"),(0,r.kt)("h4",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"No existing Podman machine ")),(0,r.kt)("h4",{id:"procedure-1"},"Procedure"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Create a rootful Podman machine:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"podman machine init --rootful my-machine-name\n")))),(0,r.kt)("p",null,"If this is the only Podman machine, it will be created and the default machine connection will be the rooful one so\nthere is no extra configuration required."),(0,r.kt)("p",null,"If there are several Podman machine, proceed as in ",(0,r.kt)("a",{parentName:"p",href:"#exiting-podman-machine"},"Existing Podman machine")),(0,r.kt)("h3",{id:"restarting-a-podman-machine-running-kind-on-windows"},"Restarting a Podman machine running Kind on Windows"),(0,r.kt)("p",null,"On Windows/WSL, avoid stopping the Podman machine while one or several Kind clusters are running.\nThe stop command emits an error message, and the following Podman machine start seems to fail."),(0,r.kt)("h4",{id:"procedure-2"},"Procedure"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Stop all existing Kind clusters."),(0,r.kt)("li",{parentName:"ol"},"Stop the Podman machine."),(0,r.kt)("li",{parentName:"ol"},"Start the Podman machine.")),(0,r.kt)("h4",{id:"workaround"},"Workaround"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Keep existing Kind clusters running."),(0,r.kt)("li",{parentName:"ol"},"Stop the Podman machine."),(0,r.kt)("li",{parentName:"ol"},"Start the Podman machine."),(0,r.kt)("li",{parentName:"ol"},"The Podman machine start reports success, but you cannot connect to the Podman machine."),(0,r.kt)("li",{parentName:"ol"},"Stop the Podman machine."),(0,r.kt)("li",{parentName:"ol"},"Start the Podman machine.")),(0,r.kt)("h4",{id:"additional-resources"},"Additional resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://kind.sigs.k8s.io/"},"Kind"))))}m.isMDXComponent=!0}}]);